var a=Object.defineProperty;var o=(n,i,t)=>i in n?a(n,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[i]=t;var e=(n,i,t)=>(o(n,typeof i!="symbol"?i+"":i,t),t);class l extends HTMLElement{constructor(){super();e(this,"_slider");e(this,"_slides");e(this,"_isDragging",!1);e(this,"_startPos",0);e(this,"_currentTranslate",0);e(this,"_prevTranslate",0);e(this,"_animationId");e(this,"_currentIndex",0);e(this,"addEventListeners",()=>{this._slides.forEach((t,s)=>{t.querySelector("img").addEventListener("dragstart",r=>r.preventDefault()),t.addEventListener("touchstart",this.touchStart(s)),t.addEventListener("touchend",this.touchEnd),t.addEventListener("touchmove",this.touchMove),t.addEventListener("mousedown",this.touchStart(s)),t.addEventListener("mouseup",this.touchEnd),t.addEventListener("mousemove",this.touchMove),t.addEventListener("mouseleave",this.touchEnd),this.calculateSlideWidth(t)}),window.addEventListener("resize",this.handleResize)});e(this,"handleResize",()=>{this._slides.forEach(t=>{this.calculateSlideWidth(t)})});e(this,"calculateSlideWidth",t=>{t.style.minWidth=`${this.clientWidth}px`});e(this,"getPositionX",t=>t.type.includes("mouse")?t.pageX:t.touches[0].clientX);e(this,"touchStart",t=>s=>{this._currentIndex=t,this._startPos=this.getPositionX(s),this._isDragging=!0,this._animationId=requestAnimationFrame(this.animation),this._slider.classList.add("grabbing")});e(this,"touchMove",t=>{if(this._isDragging){const s=this.getPositionX(t);this._currentTranslate=this._prevTranslate+s-this._startPos}});e(this,"touchEnd",()=>{cancelAnimationFrame(this._animationId),this._isDragging=!1;const t=this._currentTranslate-this._prevTranslate,s=this._slides[0].offsetWidth*.25;t<-s&&this._currentIndex<this._slides.length-1&&this._currentIndex++,t>s&&this._currentIndex>0&&this._currentIndex--,this.setPositionByIndex(),this._slider.classList.remove("grabbing")});e(this,"animation",()=>{this.setSliderPosition(),this._isDragging&&requestAnimationFrame(this.animation)});e(this,"setPositionByIndex",()=>{this._currentTranslate=this._currentIndex*-this._slides[0].offsetWidth,this._prevTranslate=this._currentTranslate,this.setSliderPosition()});e(this,"setSliderPosition",()=>{this._slider.style.transform=`translateX(${this._currentTranslate}px)`});this._slider=this,this._slides=Array.from(this.querySelectorAll(".slide"))}connectedCallback(){this.addEventListeners(),window.addEventListener("resize",this.setPositionByIndex),window.oncontextmenu=t=>(t.preventDefault(),t.stopPropagation(),!1)}}export{l as default};
